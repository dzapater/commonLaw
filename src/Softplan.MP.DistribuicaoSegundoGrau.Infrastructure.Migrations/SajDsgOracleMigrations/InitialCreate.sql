-- Script was generated by Devart dotConnect for Oracle, Version 9.13.1127
-- Product home page: http://www.devart.com/dotconnect/oracle
-- Database version: Oracle 11.2.0.3
-- Script date 01/02/2022 21:17:43

DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM ALL_TABLES WHERE OWNER = 'SAJDSG' AND TABLE_NAME = '__MigrationsHistory';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE 'CREATE TABLE SAJDSG."__MigrationsHistory" ( 
  "MigrationId" NVARCHAR2(150) NOT NULL,
  "ProductVersion" NVARCHAR2(32) NOT NULL,
  PRIMARY KEY ("MigrationId")
)';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.ANALISE_PROCESSO ( 
      PROCESSO_ID NVARCHAR2(200) NOT NULL,
      VAGA_ID NUMBER(10) NULL,
      MOTIVO NVARCHAR2(2000) NULL,
      METADATA_UUID RAW(16) NULL,
      METADATA_ROW_VERSION BLOB NULL,
      METADATA_DATA_INCLUSAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_DATA_ATUALIZACAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_USUARIO_INCLUSAO NVARCHAR2(2000) NULL,
      METADATA_USUARIO_ATUALIZACAO NVARCHAR2(2000) NULL,
      TIPO_DISTRIBUICAO NUMBER(10) NOT NULL,
      AREA_ATUACAO_ID NUMBER(19) NULL,
      PRIMARY KEY (PROCESSO_ID)
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.DISTRIBUICAO_PROCESSO ( 
      DISTRIBUICAO_ID NUMBER(19) NOT NULL,
      METADATA_UUID RAW(16) NULL,
      METADATA_ROW_VERSION BLOB NULL,
      METADATA_DATA_INCLUSAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_DATA_ATUALIZACAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_USUARIO_INCLUSAO NVARCHAR2(2000) NULL,
      METADATA_USUARIO_ATUALIZACAO NVARCHAR2(2000) NULL,
      PROCESSO_ID NVARCHAR2(200) NULL,
      VAGA_ID NUMBER(10) NULL,
      MOTIVO NVARCHAR2(2000) NULL,
      TIPODISTRIBUICAO NUMBER(10) NOT NULL,
      PRIMARY KEY (DISTRIBUICAO_ID)
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE SEQUENCE SAJDSG.DISTRIBUICAO_PROCESSO_SEQ
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE OR REPLACE TRIGGER SAJDSG.DISTRIBUICAO_PROCESSO_INS_TRG
      BEFORE INSERT ON SAJDSG.DISTRIBUICAO_PROCESSO
      FOR EACH ROW
    BEGIN
      SELECT SAJDSG.DISTRIBUICAO_PROCESSO_SEQ.NEXTVAL INTO :NEW.DISTRIBUICAO_ID FROM DUAL;
    END;
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.EXCECAO_VAGA ( 
      ID NUMBER(19) NOT NULL,
      METADATA_UUID RAW(16) NULL,
      METADATA_ROW_VERSION BLOB NULL,
      METADATA_DATA_INCLUSAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_DATA_ATUALIZACAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_USUARIO_INCLUSAO NVARCHAR2(2000) NULL,
      METADATA_USUARIO_ATUALIZACAO NVARCHAR2(2000) NULL,
      VAGA_ID NUMBER(10) NOT NULL,
      CLASSE_ID NUMBER(10) NULL,
      ASSUNTO_ID NUMBER(10) NULL,
      ESPECIALIDADE_ID NUMBER(10) NULL,
      ORIGEM_ID NUMBER(10) NULL,
      UNIDADE_ID NUMBER(10) NULL,
      ORGAO_JULGADOR_ID NUMBER(10) NULL,
      MOTIVO NVARCHAR2(2000) NULL,
      PRIMARY KEY (ID)
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE SEQUENCE SAJDSG.EXCECAO_VAGA_SEQ
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE OR REPLACE TRIGGER SAJDSG.EXCECAO_VAGA_INS_TRG
      BEFORE INSERT ON SAJDSG.EXCECAO_VAGA
      FOR EACH ROW
    BEGIN
      SELECT SAJDSG.EXCECAO_VAGA_SEQ.NEXTVAL INTO :NEW.ID FROM DUAL;
    END;
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.IMPEDIMENTO_DISTRIBUICAO_LOG ( 
      LOG_ID NUMBER(19) NOT NULL,
      PROCESSO_ID NVARCHAR2(200) NOT NULL,
      TRANSACTION_ID RAW(16) NOT NULL,
      TIPO_DISTRIBUICAO NUMBER(10) NOT NULL,
      PAYLOAD_TYPE NVARCHAR2(200) NULL,
      PAYLOAD_SRLZTION_TYPE NUMBER(10) NOT NULL,
      PAYLOAD BLOB NULL,
      METADATA_UUID RAW(16) NULL,
      METADATA_ROW_VERSION BLOB NULL,
      METADATA_DATA_INCLUSAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_DATA_ATUALIZACAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_USUARIO_INCLUSAO NVARCHAR2(2000) NULL,
      METADATA_USUARIO_ATUALIZACAO NVARCHAR2(2000) NULL,
      PRIMARY KEY (LOG_ID)
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE SEQUENCE SAJDSG.SEQ_1698989143
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE OR REPLACE TRIGGER SAJDSG.TRG_993776496
      BEFORE INSERT ON SAJDSG.IMPEDIMENTO_DISTRIBUICAO_LOG
      FOR EACH ROW
    BEGIN
      SELECT SAJDSG.SEQ_1698989143.NEXTVAL INTO :NEW.LOG_ID FROM DUAL;
    END;
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.JOBS ( 
      ID NVARCHAR2(450) NOT NULL,
      DESCRICAO NVARCHAR2(200) NULL,
      ROW_VERSION BLOB NULL,
      PAYLOAD NVARCHAR2(200) NULL,
      PRIMARY KEY (ID)
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.REGRA_DISTRIBUICAO ( 
      ID NUMBER(10) NOT NULL,
      METADATA_UUID RAW(16) NULL,
      METADATA_ROW_VERSION BLOB NULL,
      METADATA_DATA_INCLUSAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_DATA_ATUALIZACAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_USUARIO_INCLUSAO NVARCHAR2(2000) NULL,
      METADATA_USUARIO_ATUALIZACAO NVARCHAR2(2000) NULL,
      TIPO_PROCESSO NUMBER(10) NULL,
      AREA NUMBER(10) NULL,
      VARIAVEL_EQUILIBRIO NUMBER(10) NOT NULL,
      ESCOPO_EQUILIBRIO NUMBER(10) NOT NULL,
      DESCRICAO NVARCHAR2(120) NULL,
      ATIVO NUMBER(1) NOT NULL,
      "CdLocal" NUMBER(10) NOT NULL,
      PRIMARY KEY (ID)
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE SEQUENCE SAJDSG.REGRA_DISTRIBUICAO_SEQ
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE OR REPLACE TRIGGER SAJDSG.REGRA_DISTRIBUICAO_INS_TRG
      BEFORE INSERT ON SAJDSG.REGRA_DISTRIBUICAO
      FOR EACH ROW
    BEGIN
      SELECT SAJDSG.REGRA_DISTRIBUICAO_SEQ.NEXTVAL INTO :NEW.ID FROM DUAL;
    END;
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.VAGA ( 
      ID NUMBER(10) NOT NULL,
      ORGAO_ID NUMBER(10) NULL,
      TIPO_ORGAO_ID NUMBER(10) NULL,
      METADATA_ROW_VERSION BLOB NULL,
      INSTALACAO_ID NUMBER(10) NOT NULL,
      PROCURADOR_TITULAR_ID NVARCHAR2(120) NULL,
      DESCRICAO NVARCHAR2(120) NULL,
      AREA NUMBER(10) NOT NULL,
      ATIVA NUMBER(1) NOT NULL,
      REU_PRESO NUMBER(1) NOT NULL,
      DISTRIBUICAO_MESMA_VAGA NUMBER(1) NOT NULL,
      CONFIGURACOES_PREVENCAO NUMBER(1) NOT NULL,
      DISTRIBUICOES NUMBER(10) NOT NULL,
      COMPENSACAO NUMBER(10) NOT NULL,
      MOTIVO NVARCHAR2(2000) NULL,
      DISTRIBUICAO_POR_VOLUME NUMBER(10) NOT NULL,
      COMPENSACAO_POR_VOLUME NUMBER(10) NOT NULL,
      CDLOCAL NUMBER(10) NOT NULL,
      METADATA_UUID RAW(16) NULL,
      METADATA_DATA_INCLUSAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_DATA_ATUALIZACAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_USUARIO_INCLUSAO NVARCHAR2(2000) NULL,
      METADATA_USUARIO_ATUALIZACAO NVARCHAR2(2000) NULL,
      PRIMARY KEY (ID)
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE SEQUENCE SAJDSG.VAGA_SEQ
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE OR REPLACE TRIGGER SAJDSG.VAGA_INS_TRG
      BEFORE INSERT ON SAJDSG.VAGA
      FOR EACH ROW
    BEGIN
      SELECT SAJDSG.VAGA_SEQ.NEXTVAL INTO :NEW.ID FROM DUAL;
    END;
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.DISTRIBUICAO_PROCESSO_LOG ( 
      LOG_ID NUMBER(19) NOT NULL,
      PROCESSO_ID NVARCHAR2(200) NOT NULL,
      TRANSACTION_ID RAW(16) NOT NULL,
      PAYLOAD_TYPE NVARCHAR2(200) NULL,
      DISTRIBUICAO_ID NUMBER(19) NOT NULL,
      PAYLOAD_SERIALIZATION_TYPE NUMBER(10) NOT NULL,
      PAYLOAD BLOB NULL,
      PRIMARY KEY (LOG_ID),
      CONSTRAINT FK_ID_LOGS_DIST FOREIGN KEY (DISTRIBUICAO_ID) REFERENCES SAJDSG.DISTRIBUICAO_PROCESSO (DISTRIBUICAO_ID)
      ON DELETE CASCADE
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE SEQUENCE SAJDSG.DISTRIBUICAO_PROCESSO_LOG_SEQ
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE OR REPLACE TRIGGER SAJDSG.TRG_1962774651
      BEFORE INSERT ON SAJDSG.DISTRIBUICAO_PROCESSO_LOG
      FOR EACH ROW
    BEGIN
      SELECT SAJDSG.DISTRIBUICAO_PROCESSO_LOG_SEQ.NEXTVAL INTO :NEW.LOG_ID FROM DUAL;
    END;
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.REGRA_DISTRIBUICAO_ASSUNTO ( 
      REGRA_DISTRIBUICAO_ID NUMBER(10) NOT NULL,
      ASSUNTO_ID NUMBER(19) NOT NULL,
      DESCRICAO NVARCHAR2(120) NULL,
      PRIMARY KEY (REGRA_DISTRIBUICAO_ID, ASSUNTO_ID),
      CONSTRAINT FK_ID_REGRA_DIST_ASSUNTO FOREIGN KEY (REGRA_DISTRIBUICAO_ID) REFERENCES SAJDSG.REGRA_DISTRIBUICAO (ID)
      ON DELETE CASCADE
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.REGRA_DISTRIBUICAO_CLASSE ( 
      REGRA_DISTRIBUICAO_ID NUMBER(10) NOT NULL,
      CLASSE_ID NUMBER(19) NOT NULL,
      DESCRICAO NVARCHAR2(120) NULL,
      PRIMARY KEY (REGRA_DISTRIBUICAO_ID, CLASSE_ID),
      CONSTRAINT FK_ID_REGRA_DIST_CLASSE FOREIGN KEY (REGRA_DISTRIBUICAO_ID) REFERENCES SAJDSG.REGRA_DISTRIBUICAO (ID)
      ON DELETE CASCADE
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.REGRA_DISTRIBUICAO_ESPEC ( 
      REGRA_DISTRIBUICAO_ID NUMBER(10) NOT NULL,
      ESPECIALIDADE_ID NUMBER(19) NOT NULL,
      DESCRICAO NVARCHAR2(120) NULL,
      PRIMARY KEY (REGRA_DISTRIBUICAO_ID, ESPECIALIDADE_ID),
      CONSTRAINT FK_ID_REGRA_DIST_ESPEC FOREIGN KEY (REGRA_DISTRIBUICAO_ID) REFERENCES SAJDSG.REGRA_DISTRIBUICAO (ID)
      ON DELETE CASCADE
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.REGRA_DISTRIBUICAO_ORGAO ( 
      REGRA_DISTRIBUICAO_ID NUMBER(10) NOT NULL,
      ORGAO_JULGADOR_ID NUMBER(19) NOT NULL,
      ORIGEM_ID NUMBER(10) NOT NULL,
      UNIDADE_ID NUMBER(19) NOT NULL,
      DESCRICAO NVARCHAR2(120) NULL,
      PRIMARY KEY (REGRA_DISTRIBUICAO_ID, ORGAO_JULGADOR_ID),
      CONSTRAINT FK_ID_REGRA_DIST_ORG_JUL FOREIGN KEY (REGRA_DISTRIBUICAO_ID) REFERENCES SAJDSG.REGRA_DISTRIBUICAO (ID)
      ON DELETE CASCADE
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.REGRA_DISTRIBUICAO_TARJA ( 
      REGRA_DISTRIBUICAO_ID NUMBER(10) NOT NULL,
      TARJA_ID NUMBER(19) NOT NULL,
      DESCRICAO NVARCHAR2(120) NULL,
      PRIMARY KEY (REGRA_DISTRIBUICAO_ID, TARJA_ID),
      CONSTRAINT FK_ID_REGRA_DIST_TARJA FOREIGN KEY (REGRA_DISTRIBUICAO_ID) REFERENCES SAJDSG.REGRA_DISTRIBUICAO (ID)
      ON DELETE CASCADE
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.REGRA_DISTRIBUICAO_UNIDADE ( 
      REGRA_DISTRIBUICAO_ID NUMBER(10) NOT NULL,
      UNIDADE_ID NUMBER(19) NOT NULL,
      ORIGEM_ID NUMBER(10) NOT NULL,
      DESCRICAO NVARCHAR2(120) NULL,
      PRIMARY KEY (REGRA_DISTRIBUICAO_ID, UNIDADE_ID),
      CONSTRAINT FK_ID_REGRA_DIST_UNIDADE FOREIGN KEY (REGRA_DISTRIBUICAO_ID) REFERENCES SAJDSG.REGRA_DISTRIBUICAO (ID)
      ON DELETE CASCADE
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.COMPENSACAO_LOG ( 
      LOG_ID NUMBER(10) NOT NULL,
      VAGA_ID NUMBER(10) NOT NULL,
      MOTIVO NVARCHAR2(2000) NULL,
      METADATA_UUID RAW(16) NULL,
      METADATA_ROW_VERSION BLOB NULL,
      METADATA_DATA_INCLUSAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_DATA_ATUALIZACAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_USUARIO_INCLUSAO NVARCHAR2(2000) NULL,
      METADATA_USUARIO_ATUALIZACAO NVARCHAR2(2000) NULL,
      VALOR NUMBER(10) NOT NULL,
      PRIMARY KEY (LOG_ID),
      CONSTRAINT FK_ID_VAGA_COMP_LOG FOREIGN KEY (VAGA_ID) REFERENCES SAJDSG.VAGA (ID)
      ON DELETE CASCADE
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE SEQUENCE SAJDSG.COMPENSACAO_LOG_SEQ
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE OR REPLACE TRIGGER SAJDSG.COMPENSACAO_LOG_INS_TRG
      BEFORE INSERT ON SAJDSG.COMPENSACAO_LOG
      FOR EACH ROW
    BEGIN
      SELECT SAJDSG.COMPENSACAO_LOG_SEQ.NEXTVAL INTO :NEW.LOG_ID FROM DUAL;
    END;
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.IMPEDIMENTO_PROCESSO ( 
      PROCESSO_ID NVARCHAR2(200) NOT NULL,
      IMPEDIMENTO_ID NUMBER(10) NOT NULL,
      VAGA_ID NUMBER(10) NOT NULL,
      MOTIVO NVARCHAR2(2000) NULL,
      METADATA_UUID RAW(16) NULL,
      METADATA_ROW_VERSION BLOB NULL,
      METADATA_DATA_INCLUSAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_DATA_ATUALIZACAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_USUARIO_INCLUSAO NVARCHAR2(2000) NULL,
      METADATA_USUARIO_ATUALIZACAO NVARCHAR2(2000) NULL,
      PRIMARY KEY (PROCESSO_ID, IMPEDIMENTO_ID),
      CONSTRAINT FK_ID_VAGA_IMP FOREIGN KEY (VAGA_ID) REFERENCES SAJDSG.VAGA (ID)
      ON DELETE CASCADE
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE SEQUENCE SAJDSG.IMPEDIMENTO_PROCESSO_SEQ
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE OR REPLACE TRIGGER SAJDSG.IMPEDIMENTO_PROCESSO_INS_TRG
      BEFORE INSERT ON SAJDSG.IMPEDIMENTO_PROCESSO
      FOR EACH ROW
    BEGIN
      SELECT SAJDSG.IMPEDIMENTO_PROCESSO_SEQ.NEXTVAL INTO :NEW.IMPEDIMENTO_ID FROM DUAL;
    END;
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.MEMBRO_VAGA ( 
      ID NUMBER(10) NOT NULL,
      ID_VAGA NUMBER(10) NOT NULL,
      ID_MOTIVO_MEMBRO_VAGA NUMBER(10) NOT NULL,
      METADATA_UUID RAW(16) NULL,
      METADATA_ROW_VERSION BLOB NULL,
      METADATA_DATA_INCLUSAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_DATA_ATUALIZACAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_USUARIO_INCLUSAO NVARCHAR2(2000) NULL,
      METADATA_USUARIO_ATUALIZACAO NVARCHAR2(2000) NULL,
      OBSERVACAO NVARCHAR2(2000) NULL,
      ID_MEMBRO NVARCHAR2(120) NULL,
      DATA_INICIAL TIMESTAMP(7) WITH TIME ZONE NOT NULL,
      DATA_FINAL TIMESTAMP(7) WITH TIME ZONE NULL,
      PRIMARY KEY (ID, ID_VAGA),
      CONSTRAINT FK_ID_MEMBRO_VAGA FOREIGN KEY (ID_VAGA) REFERENCES SAJDSG.VAGA (ID)
      ON DELETE CASCADE
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE SEQUENCE SAJDSG.MEMBRO_VAGA_SEQ
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE OR REPLACE TRIGGER SAJDSG.MEMBRO_VAGA_INS_TRG
      BEFORE INSERT ON SAJDSG.MEMBRO_VAGA
      FOR EACH ROW
    BEGIN
      SELECT SAJDSG.MEMBRO_VAGA_SEQ.NEXTVAL INTO :NEW.ID FROM DUAL;
    END;
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE TABLE SAJDSG.VAGA_REGRA_DISTRIBUICAO ( 
      ID_VAGA NUMBER(10) NOT NULL,
      ID_REGRADISTRIBUICAO NUMBER(10) NOT NULL,
      METADATA_UUID RAW(16) NULL,
      METADATA_ROW_VERSION BLOB NULL,
      METADATA_DATA_INCLUSAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_DATA_ATUALIZACAO TIMESTAMP(7) WITH TIME ZONE NULL,
      METADATA_USUARIO_INCLUSAO NVARCHAR2(2000) NULL,
      METADATA_USUARIO_ATUALIZACAO NVARCHAR2(2000) NULL,
      DISTRIBUICAO_POR_VOLUME NUMBER(10) NOT NULL,
      COMPENSACAO_POR_VOLUME NUMBER(10) NOT NULL,
      DISTRIBUICAO_POR_PROCESSO NUMBER(10) NOT NULL,
      COMPENSACAO_POR_PROCESSO NUMBER(10) NOT NULL,
      PRIMARY KEY (ID_VAGA, ID_REGRADISTRIBUICAO),
      CONSTRAINT FK_ID_REGRA_DISTRIBUICAO FOREIGN KEY (ID_REGRADISTRIBUICAO) REFERENCES SAJDSG.REGRA_DISTRIBUICAO (ID)
      ON DELETE CASCADE,
      CONSTRAINT FK_ID_VAGA_REGRA FOREIGN KEY (ID_VAGA) REFERENCES SAJDSG.VAGA (ID)
      ON DELETE CASCADE
    )
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE UNIQUE INDEX IX_328778418 ON SAJDSG.ANALISE_PROCESSO (METADATA_UUID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE INDEX IX_COMPENSACAO_LOG_VAGA_ID ON SAJDSG.COMPENSACAO_LOG (VAGA_ID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE UNIQUE INDEX IX_821330766 ON SAJDSG.COMPENSACAO_LOG (METADATA_UUID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE UNIQUE INDEX IX_N352633229 ON SAJDSG.DISTRIBUICAO_PROCESSO (METADATA_UUID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE INDEX IX_N1611352809 ON SAJDSG.DISTRIBUICAO_PROCESSO_LOG (DISTRIBUICAO_ID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE INDEX DIST_PROC_LOG_ID ON SAJDSG.DISTRIBUICAO_PROCESSO_LOG (PROCESSO_ID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE INDEX DIST_PROC_LOG_ID_TRANSC ON SAJDSG.DISTRIBUICAO_PROCESSO_LOG (PROCESSO_ID, TRANSACTION_ID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE UNIQUE INDEX IX_EXCECAO_VAGA_METADATA_UUID ON SAJDSG.EXCECAO_VAGA (METADATA_UUID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE INDEX IMP_DIST_LOG_ID_PROC ON SAJDSG.IMPEDIMENTO_DISTRIBUICAO_LOG (PROCESSO_ID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE INDEX IMP_DIST_LOG_ID_TRANSC ON SAJDSG.IMPEDIMENTO_DISTRIBUICAO_LOG (PROCESSO_ID, TRANSACTION_ID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE UNIQUE INDEX IX_N1806796511 ON SAJDSG.IMPEDIMENTO_DISTRIBUICAO_LOG (METADATA_UUID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE INDEX IX_N393969318 ON SAJDSG.IMPEDIMENTO_PROCESSO (VAGA_ID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE UNIQUE INDEX IX_1762208128 ON SAJDSG.IMPEDIMENTO_PROCESSO (METADATA_UUID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE INDEX IX_MEMBRO_VAGA_ID_VAGA ON SAJDSG.MEMBRO_VAGA (ID_VAGA)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE UNIQUE INDEX IX_MEMBRO_VAGA_METADATA_UUID ON SAJDSG.MEMBRO_VAGA (METADATA_UUID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE UNIQUE INDEX IX_N221632554 ON SAJDSG.REGRA_DISTRIBUICAO (METADATA_UUID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE UNIQUE INDEX IX_VAGA_METADATA_UUID ON SAJDSG.VAGA (METADATA_UUID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE INDEX IX_1817585890 ON SAJDSG.VAGA_REGRA_DISTRIBUICAO (ID_REGRADISTRIBUICAO)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    CREATE UNIQUE INDEX IX_133238020 ON SAJDSG.VAGA_REGRA_DISTRIBUICAO (METADATA_UUID)
';
  END IF;
END;
/
DECLARE
  pCount NUMBER;
BEGIN
  pCount := 0;
  SELECT count(*) INTO pCount FROM SAJDSG."__MigrationsHistory" WHERE "MigrationId" = '20220202001714_InitialCreate';
  IF (pCount <> 1) THEN
    EXECUTE IMMEDIATE '
    INSERT INTO SAJDSG."__MigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES (''20220202001714_InitialCreate'', ''3.1.17'')
';
  END IF;
END;
/
